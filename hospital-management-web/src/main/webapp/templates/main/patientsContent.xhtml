<html xmlns="http://www.w3.org/1999/xhtml"   
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:p="http://primefaces.org/ui">
 
    <ui:composition>
        <div class="container-main">
        	<div class="container-main-back">
	        	<h:form>
					<h:commandButton action="welcome?faces-redirect = true" value="Back To Welcome Page" />
				</h:form>
			</div>
        	<div class="container-main-datatable">
	        	<h2>Registered Patients</h2>
	        	<br/>
				<p:dataTable value="#{patientBean.patients}" var="patient"  widgetVar="patientTable" emptyMessage="No patients found">
					<p:column headerText="First name">
					    <h:outputText value="#{patient.firstname}" />
					</p:column>
					<p:column headerText="Last name">
					    <h:outputText value="#{patient.lastname}" />
				   	</p:column>
					<p:column headerText="Email">
					    <h:outputText value="#{patient.email}" />
				   	</p:column>
				</p:dataTable>
			</div>
			<div class="container-main-form">
				<h2>Add a new patient</h2>
				<h:form>
					<h:panelGrid columns="3">
						<h:outputText value="First name" />
						<h:inputText id="firstname" value="#{patientBean.newPatient.firstname}" required="true" requiredMessage="Please enter firstname" />
						<h:message for="firstname" errorClass="errorMessage" style="color:red" />
						
						<h:outputText value="Last name" />
						<h:inputText id="lastname" value="#{patientBean.newPatient.lastname}" required="true" requiredMessage="Please enter lastname" />
						<h:message for="lastname" errorClass="errorMessage" style="color:red" />
						
						<h:outputText value="Email" />
						<h:inputText id="email" value="#{patientBean.newPatient.email}" required="true" requiredMessage="Please enter email" />
						<h:message for="email" errorClass="errorMessage" style="color:red" />
						
						<h:outputText value="Date of birth" />
						<h:inputText id="dateOfBirth" value="#{patientBean.newPatient.dateOfBirth}" required="true" requiredMessage="Please enter Date of birth">
							<f:convertDateTime pattern="yyyy/dd/MM" />
					  	</h:inputText>
						<h:message for="dateOfBirth" errorClass="errorMessage" style="color:red" />
						
						<h:outputText value="Mobile Number" />
						<h:inputText id="mobileNumber" value="#{patientBean.newPatient.mobileNumber}" required="true" requiredMessage="Please enter mobileNumber" />
						<h:message for="mobileNumber" errorClass="errorMessage" style="color:red" />
						
						<h:outputText value="Insurance Type" />
						<h:selectOneMenu id="insuranceType" value="#{patientBean.newPatient.insuranceType}">
							<f:selectItems value="#{patientBean.insuranceTypeValues}" var="insuranceType" itemValue="#{insuranceType}" itemLabel="#{insuranceType.value}"/>
						</h:selectOneMenu>
						<br/>
						<br/>
						<h:commandButton value="Add" action="#{patientController.addNewPatient}" />
					</h:panelGrid>
					<h:messages styleClass="errorMessage"  style="color:red" globalOnly="true" />
				</h:form>
			</div>
		</div>
    </ui:composition>
</html>