<html xmlns="http://www.w3.org/1999/xhtml"   
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:p="http://primefaces.org/ui">
 
    <ui:composition>
        <div class="container-main">
        	<div class="container-main-back">
	        	<h:form>
					<h:commandButton action="welcome?faces-redirect = true" value="Back To Welcome Page" />
				</h:form>
			</div>
        	<div class="container-main-datatable">
	        	<h2>Registered Patients</h2>
	        	<br/>
				<p:dataTable value="#{patientBean.patients}" var="patient" scrollable="true" scrollHeight="200" emptyMessage="No patients found">
					<p:column headerText="First name">
					    <h:outputText value="#{patient.firstname}" />
					</p:column>
					<p:column headerText="Last name">
					    <h:outputText value="#{patient.lastname}" />
				   	</p:column>
					<p:column headerText="Email">
					    <h:outputText value="#{patient.email}" />
				   	</p:column>
				</p:dataTable>
			</div>
			<div class="container-main-form">
				<h2>Add a new patient</h2>
				<h:form>
					<h:panelGrid columns="2">
						<p:outputLabel for="firstname" value="First name" />
						<p:inputText id="firstname" value="#{patientBean.newPatient.firstname}" required="true" />
						
						<p:outputLabel for="lastname" value="Last name" />
						<p:inputText id="lastname" value="#{patientBean.newPatient.lastname}" required="true" />
						
						<p:outputLabel for="email" value="Email" />
						<p:inputText id="email" value="#{patientBean.newPatient.email}" required="true" />
						
						<p:outputLabel for="dateOfBirth" value="Date of birth" />
						<p:calendar id="dateOfBirth" value="#{patientBean.newPatient.dateOfBirth}" required="true" pattern="yyyy/dd/MM" mask="true" mindate="1900/01/01"  widgetVar="calwidget" maxdate="calwidget.today()" />
						
						<p:outputLabel for="mobileNumber" value="Mobile Number" />
						<p:inputText id="mobileNumber" value="#{patientBean.newPatient.mobileNumber}" required="true" />
						
						<p:outputLabel for="insuranceType" value="Insurance Type" />
						<p:selectOneMenu id="insuranceType" value="#{patientBean.newPatient.insuranceType}" style="width:173px;">
							<f:selectItems value="#{patientBean.insuranceTypeValues}" var="insuranceType" itemValue="#{insuranceType}" itemLabel="#{insuranceType.value}"/>
						</p:selectOneMenu>
						
						<br/>
						<br/>
						<h:commandButton value="Add" action="#{patientController.addNewPatient}" />
					</h:panelGrid>
					
					<h:messages styleClass="errorMessage"  style="color:red" globalOnly="true" />
				</h:form>
			</div>
		</div>
    </ui:composition>
</html>